# Enhanced autotest configuration
global:
  worker_num: 5
  ignore_testcase_fail: true
  debug: false
  request_timeout: 5s
  
  # 重试机制：提升测试稳定性（已内置默认值，可自定义）
  retry:
    max_attempts: 3                        # 自定义：最大重试次数（默认3次）
    retry_delay: 1s                        # 自定义：重试间隔（默认1秒）
    retry_on_status_codes: [500, 502, 503, 504]  # 自定义：HTTP重试状态码（默认包含408,429）
  
  # 高级配置：并发控制（自定义并发限制）
  concurrency:
    max_concurrent_requests: 10  # 自定义：最大并发请求数（默认20）
    rate_limit_per_second: 100   # 自定义：每秒请求数限制（默认50）
  
  # 高级配置：缓存优化（自定义缓存参数）
  cache:
    enabled: true          # 自定义：显式开启（默认已开启）
    ttl: 300s              # 自定义：缓存过期时间（默认5分钟）
    max_size: 100          # 自定义：缓存条目数（默认100个）
  
  logger:
    level: "debug"
    file_path: "/var/log/test/autotest.log"
      
  report:
    dir_path: "/var/log/test/report/"
    # 新增：报告格式
    formats: ["html", "json", "csv", "junit"]
    # 新增：报告模板
    template_path: "./templates/report.html"
  
  # 新增：通知配置
  notifications:
    enabled: true
    webhook_url: "https://hooks.slack.com/services/..."
    on_failure: true
    on_success: false

http_rule_files:
  - "./config_files/my_http_api.yml"

grpc_rule_files:
  - "./config_files/my_grpc_api.yml"

# 新增：环境配置
environments:
  dev:
    HOST: "localhost:8080"
    GRPC_SERVER: "localhost:50031"
  staging:
    HOST: "staging.example.com"
    GRPC_SERVER: "staging.example.com:50031"
  prod:
    HOST: "api.example.com"
    GRPC_SERVER: "grpc.example.com:50031"
